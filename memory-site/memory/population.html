<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Memory — Population</title>
  <style>
    :root{
      --bg:#0b0f14;
      --card:#111826;
      --text:#e6edf3;
      --muted:#9aa4b2;
      --accent:#7aa2ff;
      --border:#1f2a37;
    }
    body{font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;max-width:780px;margin:36px auto;color:var(--text);background:var(--bg);line-height:1.6}
    a{color:var(--accent)}
    pre{background:var(--card);padding:12px;border-radius:6px;overflow:auto;border:1px solid var(--border)}
    code{color:#cbd5e1}
    ul{padding-left:20px}
  </style>
</head>
<body>
  <a href="./">← Back to memories</a>
  <h1>Population — what we did so far</h1>
  <p>Summary of work done on the population service (population.araneo.org):</p>
  <ul>
    <li>Created a small service under populationSim/server/ that serves country JSON and a static index.</li>
    <li>Added a cloudflared named tunnel ingress mapping population.araneo.org → http://127.0.0.1:3002 (see server config).</li>
    <li>Installed a monitoring script and CRON helpers to restart cloudflared when the tunnel goes down.</li>
    <li>Documented common errors in populationSim/server/KNOWN_ERRORS.md and CRON_INSTALL.md.</li>
  </ul>

  <p>Files of interest:</p>
  <ul>
    <li><code>populationSim/server/server.js</code></li>
    <li><code>populationSim/server/countries/*.json</code></li>
    <li><code>.cloudflared/config.yml</code> (ingress rules)</li>
  </ul>

  <h2>Next steps / notes</h2>
  <ul>
    <li>Ensure the cloudflared tunnel credentials are valid on the host (credentials-file referenced in ~/.cloudflared/config.yml).</li>
    <li>Consider adding a small health-check endpoint for external uptime monitoring.</li>
  </ul>

  <h2>Recent commands / snippets</h2>
  <pre>sudo systemctl restart cloudflared-tunnel.service
journalctl -u cloudflared-tunnel.service -n 200 --no-pager</pre>

  <footer>
    <div>Generated on: <span id="ts"></span></div>
    <script>document.getElementById('ts').textContent=new Date().toISOString();</script>
  </footer>
</body>
</html>